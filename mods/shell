#!/usr/bin/env bash
source "$(cd "$(dirname "$0")" && pwd)/../pretty-print"
assets="$(cd "$(dirname "$0")" && pwd)/../assets"

title "Shell"

mkdir -p "$HOME"/.landtech

echo_install "bins"
rm -Rf "$HOME"/.landtech/aliases
rm -Rf "$HOME"/.landtech/bin
cp -fr "$assets"/bin "$HOME"/.landtech/bin
print_in_green "${bold}✓ done!${normal}\n"

echo_install "aliases"
gopass "${GOPASS_LANDTECH_STORE}"shell/aliases >"$HOME"/.landtech/aliases
print_in_green "${bold}✓ done!${normal}\n"

echo_install "assert.sh"
if curl --fail --retry 3 --retry-delay 1 -s -o /usr/local/bin/assert.sh https://raw.github.com/lehmannro/assert.sh/v1.1/assert.sh; then
    print_in_green "${bold}✓ done!${normal}\n"
else
    print_in_red "${bold}✗ error!!!${normal}\n"
fi
